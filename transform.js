var graph = {};

function loadGraph(s)
{
	if (s['const'][0]['id'] == undefined){
	var objID = s['const'][0]['_id'];
	graph[objID] = [];
	graph[objID].push(objID);
	} else {
	var objID = s['const'][0]['id'];
	graph[objID] = [];
	graph[objID].push(s['const'][1]['_id']);
		jQuery.ajax({
			type:'GET',
			url: "http://stat1.lomonosov.parallel.ru:4448/view/attributes?names=_id&path=obj(type==chassis).q(id==" + objID + ").out_n(type==contain)",
			contentType: "application/json",
			dataType: "jsonp",
			crossDomain: true,
			cache: true,
			error:function(d, textStatus, error) {
				console.log("Загрузка данных не вышла, ",s['const'][1]['_id']);
			},
			success: function(json) {
				// alert(json.data[0][0]["_id"]);
				if (typeof(json.data) == "object") {
					for (var i = 0; i < json.data.length; i++)
					{
						graph[objID].push(json.data[i][0]["_id"]);
					}
				}
			}
		});
		// jQuery.ajax({
		// 	type:'GET',
		// 	url: "http://stat1.lomonosov.parallel.ru:4448/view/attributes?names=_id&path=obj(_id==" + objID + ").out_n(type==contain).out_n(type==contain)",
		// 	contentType: "application/json",
		// 	dataType: "jsonp",
		// 	crossDomain: true,
		// 	cache: true,
		// 	error:function(d, textStatus, error) {
		// 		console.log("Загрузка данных не вышла, ",s['const'][1]['_id']);
		// 	},
		// 	success: function(json) {
		// 		// alert(json.data[0][0]["_id"]);
		// 		if (typeof(json.data) == "object") {
		// 			for (var i = 0; i < json.data.length; i++)
		// 			{
		// 				graph[objID].push(json.data[i][0]["_id"]);
		// 			}
		// 		}
		// 	}
		// });
	}
	
	objxerr[objID] = [];
}

function transformid(param)
{
	var s = getName(param);
	return loadedData[s];
}

var statuses =
{
	"WARNING" : 0xffff00,
	"DANGER" : 0xffa500,
	"CRITICAL" : 0xff0000,
	"INFO" : 0x0000ff
};

var defaultColor = 0x00ee22;

var pathOfObjects = [
{
	"name":"http://stat1.lomonosov.parallel.ru:4448/view/entity?path=obj(type==chassis)",
	"size":[4,1,4]
},
{
	"name":"http://stat1.lomonosov.parallel.ru:4448/view/entity?path=obj(type==rkp)",
	"size":[4,6,4]
}
];

var pathOfRequest = "http://admin:admin@stat1.lomonosov.parallel.ru:4448/control/snapshot?format=jsonp";

var frequencyOfRequests = 60;

function getErrorObjName(s)
{
	return s["usr"]["_id"];
}

function getName(s)
{
	if (s['const'][0]['id'] == undefined){
		return s['const'][0]['_id'];
	} else return s['const'][0]['id'];
}

function getTimeOfError(s)
{
	return s["info"]["time"];
}

function getErrorStatus(s)
{
	return s["info"]["status"];
}

function getErrorDescripton(s)
{
	return s["usr"]["descr"];
}

var loadedData = {
"UV2-001" : [26,0.5,48],
"UV2-002" : [39,0.5,48],
"UV2-003" : [52,0.5,48],
"UV2-004" : [65,0.5,48],
"UV2-005" : [26,0.5,36],
"UV2-006" : [39,0.5,36],
"UV2-007" : [52,0.5,36],
"UV2-008" : [65,0.5,36],
"UV2-009" : [26,0.5,-76],
"UV2-010" : [39,0.5,-76],
"UV2-011" : [52,0.5,-76],
"UV2-012" : [65,0.5,-76],
"UV2-013" : [26,0.5,-64],
"UV2-014" : [39,0.5,-64],
"UV2-015" : [52,0.5,-64],
"UV2-016" : [65,0.5,-64],
"UV2-017" : [26,0.5,24],
"UV2-018" : [39,0.5,24],
"UV2-019" : [52,0.5,24],
"UV2-020" : [65,0.5,24],
"UV2-021" : [26,0.5,12],
"UV2-022" : [39,0.5,12],
"UV2-023" : [52,0.5,12],
"UV2-024" : [65,0.5,12],
"UV2-025" : [26,0.5,-52],
"UV2-026" : [39,0.5,-52],
"UV2-027" : [52,0.5,-52],
"UV2-028" : [65,0.5,-52],
"UV2-029" : [26,0.5,-40],
"UV2-030" : [39,0.5,-40],
"UV1-001" : [26,1.5,48],
"UV1-002" : [26,2.5,48],
"UV1-003" : [26,3.5,48],
"UV1-004" : [26,4.5,48],
"UV1-005" : [26,5.5,48],
"UV1-006" : [39,1.5,48],
"UV1-007" : [39,2.5,48],
"UV1-008" : [39,3.5,48],
"UV1-009" : [39,4.5,48],
"UV1-010" : [39,5.5,48],
"UV1-011" : [52,1.5,48],
"UV1-012" : [52,2.5,48],
"UV1-013" : [52,3.5,48],
"UV1-014" : [52,4.5,48],
"UV1-015" : [52,5.5,48],
"UV1-016" : [65,1.5,48],
"UV1-017" : [65,2.5,48],
"UV1-018" : [65,3.5,48],
"UV1-019" : [65,4.5,48],
"UV1-020" : [65,5.5,48],
"UV1-021" : [26,1.5,36],
"UV1-022" : [26,2.5,36],
"UV1-023" : [26,3.5,36],
"UV1-024" : [26,4.5,36],
"UV1-025" : [26,5.5,36],
"UV1-026" : [39,1.5,36],
"UV1-027" : [39,2.5,36],
"UV1-028" : [39,3.5,36],
"UV1-029" : [39,4.5,36],
"UV1-030" : [39,5.5,36],
"UV1-031" : [52,1.5,36],
"UV1-032" : [52,2.5,36],
"UV1-033" : [52,3.5,36],
"UV1-034" : [52,4.5,36],
"UV1-035" : [52,5.5,36],
"UV1-036" : [65,1.5,36],
"UV1-037" : [65,2.5,36],
"UV1-038" : [65,3.5,36],
"UV1-039" : [65,4.5,36],
"UV1-040" : [65,5.5,36],
"UV1-041" : [26,1.5,-76],
"UV1-042" : [26,2.5,-76],
"UV1-043" : [26,3.5,-76],
"UV1-044" : [26,4.5,-76],
"UV1-045" : [26,5.5,-76],
"UV1-046" : [39,1.5,-76],
"UV1-047" : [39,2.5,-76],
"UV1-048" : [39,3.5,-76],
"UV1-049" : [39,4.5,-76],
"UV1-050" : [39,5.5,-76],
"UV1-051" : [52,1.5,-76],
"UV1-052" : [52,2.5,-76],
"UV1-053" : [52,3.5,-76],
"UV1-054" : [52,4.5,-76],
"UV1-055" : [52,5.5,-76],
"UV1-056" : [65,1.5,-76],
"UV1-057" : [65,2.5,-76],
"UV1-058" : [65,3.5,-76],
"UV1-059" : [65,4.5,-76],
"UV1-060" : [65,5.5,-76],
"UV1-061" : [26,1.5,-64],
"UV1-062" : [26,2.5,-64],
"UV1-063" : [26,3.5,-64],
"UV1-064" : [26,4.5,-64],
"UV1-065" : [26,5.5,-64],
"UV1-066" : [39,1.5,-64],
"UV1-067" : [39,2.5,-64],
"UV1-068" : [39,3.5,-64],
"UV1-069" : [39,4.5,-64],
"UV1-070" : [39,5.5,-64],
"UV1-071" : [52,1.5,-64],
"UV1-072" : [52,2.5,-64],
"UV1-073" : [52,3.5,-64],
"UV1-074" : [52,4.5,-64],
"UV1-075" : [52,5.5,-64],
"UV1-076" : [65,1.5,-64],
"UV1-077" : [65,2.5,-64],
"UV1-078" : [65,3.5,-64],
"UV1-079" : [65,4.5,-64],
"UV1-080" : [65,5.5,-64],
"UV1-081" : [26,1.5,24],
"UV1-082" : [26,2.5,24],
"UV1-083" : [26,3.5,24],
"UV1-084" : [26,4.5,24],
"UV1-085" : [26,5.5,24],
"UV1-086" : [39,1.5,24],
"UV1-087" : [39,2.5,24],
"UV1-088" : [39,3.5,24],
"UV1-089" : [39,4.5,24],
"UV1-090" : [39,5.5,24],
"UV1-091" : [52,1.5,24],
"UV1-092" : [52,2.5,24],
"UV1-093" : [52,3.5,24],
"UV1-094" : [52,4.5,24],
"UV1-095" : [52,5.5,24],
"UV1-096" : [65,1.5,24],
"UV1-097" : [65,2.5,24],
"UV1-098" : [65,3.5,24],
"UV1-099" : [65,4.5,24],
"UV1-100" : [65,5.5,24],
"UV1-101" : [26,1.5,12],
"UV1-102" : [26,2.5,12],
"UV1-103" : [26,3.5,12],
"UV1-104" : [26,4.5,12],
"UV1-105" : [26,5.5,12],
"UV1-106" : [39,1.5,12],
"UV1-107" : [39,2.5,12],
"UV1-108" : [39,3.5,12],
"UV1-109" : [39,4.5,12],
"UV1-110" : [39,5.5,12],
"UV1-111" : [52,1.5,12],
"UV1-112" : [52,2.5,12],
"UV1-113" : [52,3.5,12],
"UV1-114" : [52,4.5,12],
"UV1-115" : [52,5.5,12],
"UV1-116" : [65,1.5,12],
"UV1-117" : [65,2.5,12],
"UV1-118" : [65,3.5,12],
"UV1-119" : [65,4.5,12],
"UV1-120" : [65,5.5,12],
"UV1-121" : [26,1.5,-52],
"UV1-122" : [26,2.5,-52],
"UV1-123" : [26,3.5,-52],
"UV1-124" : [26,4.5,-52],
"UV1-125" : [26,5.5,-52],
"UV1-126" : [39,1.5,-52],
"UV1-127" : [39,2.5,-52],
"UV1-128" : [39,3.5,-52],
"UV1-129" : [39,4.5,-52],
"UV1-130" : [39,5.5,-52],
"UV1-131" : [52,1.5,-52],
"UV1-132" : [52,2.5,-52],
"UV1-133" : [52,3.5,-52],
"UV1-134" : [52,4.5,-52],
"UV1-135" : [52,5.5,-52],
"UV1-136" : [65,1.5,-52],
"UV1-137" : [65,2.5,-52],
"UV1-138" : [65,3.5,-52],
"UV1-139" : [65,4.5,-52],
"UV1-140" : [65,5.5,-52],
"UV1-141" : [26,1.5,-40],
"UV1-142" : [26,2.5,-40],
"UV1-143" : [26,3.5,-40],
"UV1-144" : [26,4.5,-40],
"UV1-145" : [26,5.5,-40],
"UV1-146" : [39,1.5,-40],
"UV1-147" : [39,2.5,-40],
"UV1-148" : [39,3.5,-40],
"UV1-149" : [39,4.5,-40],
"UV1-150" : [39,5.5,-40],
"UV6-151" : [52,0.5,-40],
"UV6-152" : [52,1.5,-40],
"UV6-153" : [52,2.5,-40],
"UV6-154" : [52,3.5,-40],
"UV6-155" : [52,4.5,-40],
"UV6-156" : [52,5.5,-40],
"UV6-157" : [65,0.5,-40],
"UV6-158" : [65,1.5,-40],
"UV6-159" : [65,2.5,-40],
"UV6-160" : [65,3.5,-40],
"UV6-161" : [65,4.5,-40],
"UV6-162" : [65,5.5,-40],
"UV6-163" : [26,0.5,-16],
"UV6-164" : [26,1.5,-16],
"UV6-165" : [26,2.5,-16],
"UV6-166" : [26,3.5,-16],
"UV6-167" : [26,4.5,-16],
"UV6-168" : [26,5.5,-16],
"UV6-169" : [39,0.5,-16],
"UV6-170" : [39,1.5,-16],
"UV6-171" : [39,2.5,-16],
"UV6-172" : [39,3.5,-16],
"UV6-173" : [39,4.5,-16],
"UV6-174" : [39,5.5,-16],
"UV6-175" : [52,0.5,-16],
"UV6-176" : [52,1.5,-16],
"UV6-177" : [52,2.5,-16],
"UV6-178" : [52,3.5,-16],
"UV6-179" : [52,4.5,-16],
"UV6-180" : [52,5.5,-16],
"UV6-181" : [65,0.5,-16],
"UV6-182" : [65,1.5,-16],
"UV6-183" : [65,2.5,-16],
"UV6-184" : [65,3.5,-16],
"UV6-185" : [65,4.5,-16],
"UV6-186" : [65,5.5,-16],
"UV6-187" : [78,0.5,-58],
"UV6-188" : [78,1.5,-58],
"UV6-189" : [78,2.5,-58],
"UV6-190" : [78,3.5,-58],
"UV6-191" : [78,4.5,-58],
"UV6-192" : [78,5.5,-58],
"UV6-193" : [78,0.5,-70],
"UV6-194" : [78,1.5,-70],
"UV6-195" : [78,2.5,-70],
"UV6-196" : [78,3.5,-70],
"UV6-197" : [78,4.5,-70],
"UV6-198" : [78,5.5,-70],
"UV6-199" : [39,0.5,-28],
"UV6-200" : [39,1.5,-28],
"UV6-201" : [39,2.5,-28],
"UV6-202" : [39,3.5,-28],
"UV6-203" : [39,4.5,-28],
"UV6-204" : [39,5.5,-28],
"UV6-205" : [52,0.5,-28],
"UV6-206" : [52,1.5,-28],
"UV6-207" : [52,2.5,-28],
"UV6-208" : [52,3.5,-28],
"UV6-209" : [52,4.5,-28],
"UV6-210" : [52,5.5,-28],
"UV6-211" : [65,0.5,-28],
"UV6-212" : [65,1.5,-28],
"UV6-213" : [65,2.5,-28],
"UV6-214" : [65,3.5,-28],
"UV6-215" : [65,4.5,-28],
"UV6-216" : [65,5.5,-28],
"rkp-0" : [26,3,6],
"rkp-1" : [26,3,18],
"rkp-2" : [26,3,30],
"rkp-3" : [26,3,42],
"rkp-4" : [26,3,54],
"rkp-5" : [39,3,6],
"rkp-6" : [39,3,18],
"rkp-7" : [39,3,30],
"rkp-8" : [39,3,42],
"rkp-9" : [39,3,54],
"rkp-10" : [52,3,6],
"rkp-11" : [52,3,18],
"rkp-12" : [52,3,30],
"rkp-13" : [52,3,42],
"rkp-14" : [52,3,54],
"rkp-15" : [65,3,6],
"rkp-16" : [65,3,18],
"rkp-17" : [65,3,30],
"rkp-18" : [65,3,42],
"rkp-19" : [65,3,54],
"rkp-20" : [26,3,-88],
"rkp-21" : [26,3,-70],
"rkp-22" : [26,3,-58],
"rkp-23" : [26,3,-46],
"rkp-24" : [26,3,-34],
"rkp-25" : [26,3,-22],
"rkp-26" : [39,3,-88],
"rkp-27" : [39,3,-70],
"rkp-28" : [39,3,-58],
"rkp-29" : [39,3,-46],
"rkp-30" : [39,3,-34],
"rkp-31" : [39,3,-22],
"rkp-32" : [52,3,-88],
"rkp-33" : [52,3,-70],
"rkp-34" : [52,3,-58],
"rkp-35" : [52,3,-46],
"rkp-36" : [52,3,-34],
"rkp-37" : [52,3,-22],
"rkp-38" : [65,3,-88],
"rkp-39" : [65,3,-70],
"rkp-40" : [65,3,-58],
"rkp-41" : [65,3,-46],
"rkp-42" : [65,3,-34],
"rkp-43" : [65,3,-22],
"rkp-44" : [78,3,-88],
"rkp-45" : [78,3,-64],
"rkp-46" : [78,3,-52]
}
